<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Courses</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"
          crossorigin="anonymous">
</head>
<body>

<div class="container">
    <div class="row mt-4">
        <div class="col-6">
            <form id="addCourse" method="POST" th:action="@{/course/add}">
                <div class="form-row mb-3">
                    <div class="col-9">
                        <label for="name">Course name</label>
                        <input type="text"
                               class="form-control"
                               id="name"
                               placeholder="Computing"
                               name="courseName">
                    </div>
                    <div class="col-3">
                        <label for="grNum">Group number</label>
                        <input type="text"
                               class="form-control"
                               id="grNum"
                               placeholder="3"
                               name="grNum">
                    </div>
                </div>

                <div class="form-group d-flex justify-content-between">
                    <button type="submit"
                            class="btn btn-primary ">Save</button>
                    <button type="button"
                            class="btn btn-secondary"
                            onclick="this.form.reset()">Cancel</button>
                </div>
            </form>
        </div>
        <div class="col-6">
            <div class="row my-2">
                <div class="col">
                    <label for="myInput"></label>
                    <input type="text"
                           id="myInput"
                           onkeyup="myFunction()"
                           placeholder="Course">
                </div>
            </div>

            <div class="row">
                <div class="col">
                    <table class="table table-bordered" style="width: 100%">
                        <thead class="thead-light">
                        <tr>
                            <th style="width: 75%">Name</th>
                            <th style="width: 25%">Delete</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="course : ${courses}">
                            <td class="items">
                                <a th:text="${course.getName()}"></a>
                            </td>
                            <td>
                                <a type="button" class="btn btn-outline-danger"
                                   th:href="@{/course/delete(id = ${course.getId()})}">
                                    Delete
                                </a>&emsp;
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
</body>

<script th:inline="javascript">
    function myFunction() {
        let input, filter, items, a, i, txtValue;
        input = document.getElementById('myInput');
        filter = input.value.toUpperCase();
        items = document.getElementsByClassName("items");

        for (i = 0; i < items.length; i++) {
            a = items[i].getElementsByTagName("a")[0];
            txtValue = a.textContent || a.innerText;
            if (txtValue.toUpperCase().indexOf(filter) > -1) {
                items[i].parentElement.style.display = "";
            } else {
                items[i].parentElement.style.display = "none";
            }
        }
    }
</script>

</html>